<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Devices :: Hyper Developers</title>
    <link rel="canonical" href="https://hyper.systems/developers/hyper-python-sdk/1.2.0/devices.html">
    <link rel="prev" href="installing.html">
    <meta name="generator" content="Antora 3.1.0">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://hyper.systems/">
        <svg height="26" viewBox="0 0 94 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M18.0429 27.851H12.8651V16.8414H5.1955V27.851H0V2.12085H5.1955V12.5295H12.8651V2.12085H18.0429V27.851Z"
            fill="#4C4859" />
          <path d="M44.1088 18.803V27.851H38.9133V2.12085H47.6785C50.2232 2.12085 52.2496 2.91019 53.7576 4.48887C55.2773 
                6.06755 56.0372 8.11747 56.0372 10.6386C56.0372 13.1598 55.2891 15.1508 53.7929 16.6117C52.2967 18.0726 
                50.2232 18.803 47.5724 18.803H44.1088ZM44.1088 14.4734H47.6785C48.6681 14.4734 49.4339 14.1494 49.9758 
                13.5015C50.5177 12.8535 50.7887 11.911 50.7887 10.674C50.7887 9.38984 50.5118 8.37077 49.9581 7.61677C49.4044 
                6.851 48.6622 6.46222 47.7315 6.45044H44.1088V14.4734Z" fill="#4C4859" />
          <path
            d="M72.0839 16.7177H63.9902V23.5391H73.5683V27.851H58.7947V2.12085H73.533V6.45044H63.9902V12.5295H72.0839V16.7177Z"
            fill="#4C4859" />
          <path d="M84.3658 18.4496H81.7857V27.851H76.5902V2.12085H84.8783C87.4819 2.12085 89.4906 2.79827 90.9044 4.1531C92.3299 
                5.49616 93.0426 7.4106 93.0426 9.89643C93.0426 13.313 91.7997 15.7046 89.3139 17.0712L93.8202 27.6036V27.851H88.2359L84.3658
                 18.4496ZM81.7857 14.12H84.7369C85.7737 14.12 86.5512 13.7783 87.0696 13.095C87.588 12.3999 87.8471 11.4751 87.8471 
                 10.3206C87.8471 7.74048 86.8399 6.45044 84.8253 6.45044H81.7857V14.12Z" fill="#4C4859" />
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M33.2854 1.03077C33.5216 0.255676 32.4718 -0.234317 32.0294 0.444521L20.7397 
                17.7669C20.4506 18.2105 20.7396 18.802 21.2671 18.8466L26.6746 19.3039L23.0044 30.9381C22.7651 31.6969 23.7757 
                32.2034 24.2403 31.5575L36.4959 14.5186C36.8113 14.08 36.5321 13.4645 35.9943 13.4131L29.696 12.8103L33.2854 1.03077Z" fill="#2EDBAC" />
        </svg>
      </a>
      <a class="navbar-sub_logo" href="https://hyper.systems/developers">Developers</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" target="_blank" href="https://github.com/hyper-systems/">GitHub</a>
        <a class="navbar-item" href="mailto:support@hyper.systems">Support</a>
      </div>
    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="hyper-python-sdk" data-version="1.2.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Hyper Python SDK</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="installing.html">Installing the Python Package</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="devices.html">Devices</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Hyper Python SDK</span>
    <span class="version">1.2.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../hyper-home/1.0/index.html">Home</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../hyper-home/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../analytics-api/3.1/index.html">Hyper Analytics API</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../analytics-api/3.1/index.html">3.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../hyper-link-arduino/1.0/index.html">Hyper Link Arduino</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../hyper-link-arduino/1.0/index.html">1.0-beta.1</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="index.html">Hyper Python SDK</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">1.2.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../hyper-home/1.0/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Hyper Python SDK</a></li>
    <li><a href="devices.html">Devices</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Devices</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The first thing we need to do to start using the Python SDK is provide a valid API key. This will allow the library to make requests to Hyper&#8217;s services for publishing and receiving messages.</p>
</div>
<div class="paragraph">
<p>You can obtain an API key from your hyper.systems dashboard instance. In the sidebar, click on your account name, select "Account", go to the "API Keys" section.</p>
</div>
<div class="paragraph">
<p>In additon to the API settings, you need to specify a site identifier. Sites can be helpful to namespace devices and messages across different physical locations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">HYPER_API_KEY = "&lt;insert your key here&gt;"
HYPER_API_URL = "https://&lt;your organization name&gt;.hyper.systems/api"
HYPER_SITE_ID = 1</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-a-device-schema"><a class="anchor" href="#creating-a-device-schema"></a>Creating a device schema</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before you can start publishing messages from your device, we need to provide the attribute schema for your device.</p>
</div>
<div class="paragraph">
<p>The schema can be obtained from your hyper.systems dashboard.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/device_schema_download.png" alt="Device Schema Download" width="800">
</div>
</div>
<div class="paragraph">
<p>Download the JSON schema file and place it somewhere in your project directory.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">from hyper_systems.devices import Device, Schema
from hyper_systems.http import Client

# Load the device schema.
SCHEMA_FILE = "&lt;path to downloaded schema file&gt;"
schema = Schema.load(SCHEMA_FILE)

# Initialize the device with a schema and a unique id.
device_id = "00:00:00:00:00:01"
device = Device.from_schema(schema, device_id)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The device schema contains the full description of the properties of the device. Note that multiple devices can match the same device schema as long as they have different device ids.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You can can inspect the schema files to see the metadata and the available attributes.
The device is now ready to be used to start recording values.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The device is now ready to be used to start recording values.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="recording-device-values"><a class="anchor" href="#recording-device-values"></a>Recording device values</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>device</code> object we created in the previous section has setters for every attribute from the device schema. We can start recording values for the attributes of the device.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python"># Print the list of all available attributes.
print(device.attributes)</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will give you the list of available property names. For example, if the list above contains a property called "sht31_relative_humidity_1", you can set the value for this attribute with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python"># The the value of the attribute.
device.sht31_relative_humidity_1 = 55.0</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>_1</code> suffix in the attribute name is the unique slot of the attribute in the device schema.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Alternatively, the attribute values can be set by specifying their slot. The following sets the value for the <code>sht31_relative_humidity_1</code> attribute using its slot.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python"># Set attribute values using the attribute slot.
device[1] = 60.0
assert device[1] == 60.0</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can set any attribute values available on the device. Setting all attributes is not required.</p>
</div>
<div class="sect2">
<h3 id="publishing-device-values"><a class="anchor" href="#publishing-device-values"></a>Publishing device values</h3>
<div class="paragraph">
<p>Once your device is initialized and has the attribute values set, you can publish them to the hyper.systems platform.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">hyper_client = Client(
    api_url=HYPER_API_URL,
    api_key=HYPER_API_KEY,
    site_id=HYPER_SITE_ID
)
hyper_client.publish_device_message(device.message)</code></pre>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="installing.html">Installing the Python Package</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer"></footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
